(window.webpackJsonpshortener_url=window.webpackJsonpshortener_url||[]).push([[0],{209:function(e,r,t){"use strict";t.r(r);var n=t(0),a=t.n(n),o=t(46),c=t.n(o),l=t(21),u=t(7),i=t(96),s=t(212),m=t(16),d={all:[],encodeUrlErrors:[],decodeUrlErrors:[]},p=Object(u.c)({form:s.a,urls:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,r=arguments.length>1?arguments[1]:void 0;switch(r.type){case"ENCODE_URL_SUCCESS":return Object(m.a)(Object(m.a)({},e),{},{all:r.response.data,encodeUrlErrors:[]});case"DECODE_URL_SUCCESS":return Object(m.a)(Object(m.a)({},e),{},{all:r.response.data,decodeUrlErrors:[]});case"ENCODE_URL_FAILURE":return Object(m.a)(Object(m.a)({},e),{},{encodeUrlErrors:r.error.errors});case"DECODE_URL_FAILURE":return Object(m.a)(Object(m.a)({},e),{},{decodeUrlErrors:r.error.errors});default:return e}}}),E=[i.a],b=u.a.apply(void 0,E)(u.d)((function(e,r){return p(e,r)})),f=t(19),h=t(20),v=t(23),O=t(22),U=t(31),g=t(6),j=t(2),y=t.n(j),S=t(25);function N(){var e=JSON.parse(localStorage.getItem("token"));return{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer: ".concat(e)}}function _(e){return e.json().then((function(r){return e.ok?r:Promise.reject(r)}))}var x=function(e,r){var t=JSON.stringify(r);return fetch("".concat("https://url-shortener-forever.herokuapp.com/api/v1").concat(e),{method:"POST",headers:N(),body:t}).then(_)};var C=t(211),D=t(210);var L=function(e){var r=e.errors;e.name;return a.a.createElement("div",null,function(e){return!!e&&e.map((function(e,r){return a.a.createElement("div",{key:r,style:{fontSize:"85%",color:"#cc5454"}},"".concat(e))}))}(r))},R=function(e){Object(v.a)(t,e);var r=Object(O.a)(t);function t(){var e;Object(f.a)(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(e=r.call.apply(r,[this].concat(a))).handleSubmit=function(r){return e.props.onSubmit(r)},e}return Object(h.a)(t,[{key:"render",value:function(){var e=this.props,r=e.handleSubmit,t=e.submitting,n=e.errors;return a.a.createElement("form",{onSubmit:r(this.handleSubmit),className:"form-inline"},a.a.createElement("div",{className:"row"},a.a.createElement("div",{className:"form-group col-sm-12"},a.a.createElement("div",{className:"input-group"},a.a.createElement(C.a,{name:"url[original_url]",placeholder:"What's URL for encoding?",component:"textarea",className:"form-control",style:{width:"100%"}}),a.a.createElement("div",{className:"input-group-btn"},a.a.createElement("button",{type:"submit",className:"btn btn-primary",disabled:t},t?"Encoding...":"Encode"))),a.a.createElement(L,{name:"url[original_url]",errors:n}))))}}]),t}(n.Component),w=Object(D.a)({form:"encodeUrl"})(R),k=function(e){Object(v.a)(t,e);var r=Object(O.a)(t);function t(){var e;Object(f.a)(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(e=r.call.apply(r,[this].concat(a))).handleSubmit=function(r){return e.props.onSubmit(r)},e}return Object(h.a)(t,[{key:"render",value:function(){var e=this.props,r=e.handleSubmit,t=e.submitting,n=e.errors;return a.a.createElement("form",{onSubmit:r(this.handleSubmit),className:"form-inline"},a.a.createElement("div",{className:"row"},a.a.createElement("div",{className:"form-group col-sm-12"},a.a.createElement("div",{className:"input-group"},a.a.createElement(C.a,{name:"url[shortened_url]",placeholder:"What's URL for decoding?",component:"textarea",className:"form-control",style:{width:"100%"}}),a.a.createElement("div",{className:"input-group-btn"},a.a.createElement("button",{type:"submit",className:"btn btn-primary",disabled:t},t?"Decoding...":"Decode"))),a.a.createElement(L,{name:"url[shortened_url]",errors:n}))))}}]),t}(n.Component),A=Object(D.a)({form:"decodeUrl"})(k),I=S.a.create({navbar:{display:"flex",alignItems:"center",padding:"0 1rem",height:"70px",background:"#fff",boxShadow:"0 1px 1px rgba(0,0,0,.1)"},link:{color:"#555459",fontSize:"22px",fontWeight:"bold",":hover":{textDecoration:"none"},":focus":{textDecoration:"none"}}}),F=function(){return a.a.createElement("nav",{className:Object(S.b)(I.navbar)},a.a.createElement(U.a,{to:"/",className:Object(S.b)(I.link)},"Url Shortener Forever"))},B=S.a.create({card:{maxWidth:"768px",margin:"2rem auto"}}),J=function(e){Object(v.a)(t,e);var r=Object(O.a)(t);function t(){var e;Object(f.a)(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(e=r.call.apply(r,[this].concat(a))).handleEncodeURLSubmit=function(r){return e.props.encodeUrl(r,e.context.router)},e.handleDecodeURLSubmit=function(r){return e.props.decodeUrl(r,e.context.router)},e}return Object(h.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return a.a.createElement("div",{style:{flex:"1"}},a.a.createElement(F,null),a.a.createElement("div",{className:"card ".concat(Object(S.b)(B.card))},a.a.createElement("h3",{style:{marginBottom:"2rem",textAlign:"center"}},"Encode URL"),a.a.createElement(w,{onSubmit:this.handleEncodeURLSubmit,errors:this.props.encodeUrlErrors})),a.a.createElement("div",{className:"card ".concat(Object(S.b)(B.card))},a.a.createElement("h3",{style:{marginBottom:"2rem",textAlign:"center"}},"Decode URL"),a.a.createElement(A,{onSubmit:this.handleDecodeURLSubmit,errors:this.props.decodeUrlErrors})))}}]),t}(n.Component);J.contextTypes={router:y.a.object};var W=Object(l.b)((function(e){return{urls:e.urls.all,encodeUrlErrors:e.urls.encodeUrlErrors,decodeUrlErrors:e.urls.decodeUrlErrors}}),{encodeUrl:function(e){return function(r){return x("/url/encode",e).then((function(e){r({type:"ENCODE_URL_SUCCESS",response:e}),alert(e.data[0].shortened_url)})).catch((function(e){r({type:"ENCODE_URL_FAILURE",error:e})}))}},decodeUrl:function(e){return function(r){return x("/url/decode",e).then((function(e){r({type:"DECODE_URL_SUCCESS",response:e}),alert(e.data[0].original_url)})).catch((function(e){r({type:"DECODE_URL_FAILURE",error:e})}))}}})(J),z=function(){return a.a.createElement("div",{style:{margin:"2rem auto",textAlign:"center"}},a.a.createElement("p",null,"Page not found"),a.a.createElement("p",null,a.a.createElement(U.a,{to:"/"},"Go to the home page \u2192")))},P=function(e){Object(v.a)(t,e);var r=Object(O.a)(t);function t(){return Object(f.a)(this,t),r.apply(this,arguments)}return Object(h.a)(t,[{key:"render",value:function(){return a.a.createElement(U.a,null,a.a.createElement("div",null,a.a.createElement(g.a,{exactly:!0,pattern:"/",component:W}),a.a.createElement(g.c,{component:z})))}}]),t}(n.Component);c.a.render(a.a.createElement(l.a,{store:b},a.a.createElement(P,null)),document.getElementById("root"))},97:function(e,r,t){e.exports=t(209)}},[[97,1,2]]]);
//# sourceMappingURL=main.799e64ba.chunk.js.map