{"version":3,"sources":["reducers/urls.js","reducers/index.js","store/index.js","api/index.js","components/Errors/index.js","components/EncodeUrlForm/index.js","components/DecodeUrlForm/index.js","components/Navbar/index.js","containers/Home/index.js","actions/urls.js","components/NotFound/index.js","containers/App/index.js","index.js"],"names":["initialState","all","encodeUrlErrors","decodeUrlErrors","appReducer","combineReducers","form","urls","state","action","type","response","data","error","errors","middleWare","thunk","store","applyMiddleware","createStore","createStoreWithMiddleware","headers","token","JSON","parse","localStorage","getItem","Accept","Authorization","parseResponse","json","then","ok","Promise","reject","url","body","stringify","fetch","process","method","Errors","name","console","log","map","i","key","style","fontSize","color","renderErrors","EncodeUrlForm","handleSubmit","props","onSubmit","this","submitting","className","Field","placeholder","component","width","disabled","Component","reduxForm","validate","values","message","DecodeUrlForm","shortened_url","styles","StyleSheet","create","navbar","display","alignItems","padding","height","background","boxShadow","link","fontWeight","textDecoration","Navbar","css","to","card","maxWidth","margin","Home","handleEncodeURLSubmit","encodeUrl","context","router","handleDecodeURLSubmit","decodeUrl","flex","marginBottom","textAlign","contextTypes","PropTypes","object","connect","dispatch","api","alert","catch","original_url","NotFound","App","exactly","pattern","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.a68ca866.chunk.js","sourcesContent":["const initialState = {\n    all: [],\n    encodeUrlErrors: [],\n    decodeUrlErrors: [],\n  };\n  \n  export default function (state = initialState, action) {\n    switch (action.type) {\n      case 'ENCODE_URL_SUCCESS':\n        return {\n          ...state,\n          all: action.response.data,\n          encodeUrlErrors: [],\n        };\n      case 'DECODE_URL_SUCCESS':\n        return {\n          ...state,\n          all: action.response.data,\n          decodeUrlErrors: [],\n        };\n      case 'ENCODE_URL_FAILURE':\n        return {\n          ...state,\n          encodeUrlErrors: action.error.errors,\n        };\n      case 'DECODE_URL_FAILURE':\n        return {\n          ...state,\n          decodeUrlErrors: action.error.errors,\n        };\n      default:\n        return state;\n    }\n  }\n","import { combineReducers } from 'redux';\nimport { reducer as form } from 'redux-form';\nimport urls from './urls';\n\nconst appReducer = combineReducers({\n  form,\n  urls\n});\n\nexport default function (state, action) {\n  return appReducer(state, action);\n}\n","import { createStore, applyMiddleware } from 'redux';\nimport thunk from 'redux-thunk';\nimport reducers from '../reducers';\n\nconst middleWare = [thunk];\n\nconst createStoreWithMiddleware = applyMiddleware(...middleWare)(createStore);\n\nconst store = createStoreWithMiddleware(reducers);\n\nexport default store;\n","const API = process.env.REACT_APP_API_URL;\n\nfunction headers() {\n  const token = JSON.parse(localStorage.getItem('token'));\n\n  return {\n    Accept: 'application/json',\n    'Content-Type': 'application/json',\n    Authorization: `Bearer: ${token}`,\n  };\n}\n\nfunction parseResponse(response) {\n  return response.json().then((json) => {\n    if (!response.ok) {\n      return Promise.reject(json);\n    }\n    return json;\n  });\n}\n\nexport default {\n  post(url, data) {\n    const body = JSON.stringify(data);\n\n    return fetch(`${API}${url}`, {\n      method: 'POST',\n      headers: headers(),\n      body,\n    })\n    .then(parseResponse);\n  },\n};\n","// @flow\nimport React from 'react';\n\nfunction renderErrors(errors, name) {\n  console.log(errors)\n  if (!errors) return false;\n\n  return errors.map((error, i) =>\n    <div key={i} style={{ fontSize: '85%', color: '#cc5454' }}>\n      {`${error}`}\n    </div>\n  );\n}\n\ntype Props = {\n  name: string,\n  errors?: any,\n}\n\nconst Errors = ({ errors, name }: Props) =>\n  <div>\n    {renderErrors(errors, name)}\n  </div>;\n\nexport default Errors;\n","// @flow\nimport React, { Component } from 'react';\nimport { Field, reduxForm } from 'redux-form';\nimport Errors from '../Errors';\n\ntype Props = {\n  handleSubmit: () => void,\n  onSubmit: () => void,\n  submitting: boolean,\n  errors: any,\n}\n\nclass EncodeUrlForm extends Component {\n  props: Props\n\n  handleSubmit = data => this.props.onSubmit(data);\n\n  render() {\n    const { handleSubmit, submitting, errors } = this.props;\n\n    return (\n      <form onSubmit={handleSubmit(this.handleSubmit)} className=\"form-inline\">\n        <div className=\"row\">\n          <div className=\"form-group col-sm-12\">\n            <div className=\"input-group\">\n              <Field\n                name=\"original_url\"\n                placeholder=\"What's URL for encoding?\"\n                component=\"textarea\"\n                className=\"form-control\"\n                style={{ width: '100%' }}\n              />\n              <div className=\"input-group-btn\">\n                  <button type=\"submit\" className=\"btn btn-primary\" disabled={submitting}>\n                    {submitting ? 'Encoding...' : 'Encode'}\n                  </button>\n              </div>\n            </div>\n            <Errors name=\"original_url\" errors={errors} />\n          </div>\n        </div>\n      </form>\n    );\n  }\n}\n\nconst validate = (values) => {\n  const errors = {};\n  if (!values.message) {\n    errors.message = 'Required';\n  }\n  return errors;\n};\n\nexport default reduxForm({\n  form: 'encodeUrl',\n  validate,\n})(EncodeUrlForm);\n","// @flow\nimport React, { Component } from 'react';\nimport { Field, reduxForm } from 'redux-form';\nimport Errors from '../Errors';\n\ntype Props = {\n  handleSubmit: () => void,\n  onSubmit: () => void,\n  submitting: boolean,\n  errors: any,\n}\n\nclass DecodeUrlForm extends Component {\n  props: Props\n\n  handleSubmit = data => this.props.onSubmit(data);\n\n  render() {\n    const { handleSubmit, submitting, errors } = this.props;\n\n    return (\n      <form onSubmit={handleSubmit(this.handleSubmit)} className=\"form-inline\">\n        <div className=\"row\">\n          <div className=\"form-group col-sm-12\">\n            <div className=\"input-group\">\n              <Field\n                name=\"shortened_url\"\n                placeholder=\"What's URL for decoding?\"\n                component=\"textarea\"\n                className=\"form-control\"\n                style={{ width: '100%' }}\n              />\n              <div className=\"input-group-btn\">\n                  <button type=\"submit\" className=\"btn btn-primary\" disabled={submitting}>\n                    {submitting ? 'Decoding...' : 'Decode'}\n                  </button>\n              </div>\n            </div>\n            <Errors name=\"shortened_url\" errors={errors} />\n          </div>\n        </div>\n      </form>\n    );\n  }\n}\n\nconst validate = (values) => {\n  const errors = {};\n  if (!values.shortened_url) {\n    errors.message = 'Required';\n  }\n  return errors;\n};\n\nexport default reduxForm({\n  form: 'decodeUrl',\n  validate,\n})(DecodeUrlForm);\n","// @flow\nimport React from 'react';\nimport { BrowserRouter as Link } from \"react-router-dom\";\nimport { css, StyleSheet } from 'aphrodite';\n\nconst styles = StyleSheet.create({\n  navbar: {\n    display: 'flex',\n    alignItems: 'center',\n    padding: '0 1rem',\n    height: '70px',\n    background: '#fff',\n    boxShadow: '0 1px 1px rgba(0,0,0,.1)',\n  },\n\n  link: {\n    color: '#555459',\n    fontSize: '22px',\n    fontWeight: 'bold',\n    ':hover': {\n      textDecoration: 'none',\n    },\n    ':focus': {\n      textDecoration: 'none',\n    },\n  },\n});\n\nconst Navbar = () =>\n  <nav className={css(styles.navbar)}>\n    <Link to=\"/\" className={css(styles.link)}>Url Shortener Forever</Link>\n  </nav>;\n\nexport default Navbar;\n","// @flow\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { css, StyleSheet } from 'aphrodite';\nimport { encodeUrl, decodeUrl } from '../../actions/urls';\nimport EncodeUrlForm from '../../components/EncodeUrlForm';\nimport DecodeUrlForm from '../../components/DecodeUrlForm';\nimport Navbar from '../../components/Navbar';\n\nconst styles = StyleSheet.create({\n  card: {\n    maxWidth: '768px',\n    margin: '2rem auto',\n  },\n});\n\ntype Props = {\n  encodeUrl: () => void,\n  decodeUrl: () => void,\n  encodeUrlErrors: Array<string>,\n  decodeUrlErrors: Array<string>,\n}\n\nclass Home extends Component {\n  static contextTypes = {\n    router: PropTypes.object\n  }\n\n  componentDidMount() {\n  }\n\n  props: Props\n  handleEncodeURLSubmit = (data) => this.props.encodeUrl(data, this.context.router);\n\n  handleDecodeURLSubmit = (data) => this.props.decodeUrl(data, this.context.router);\n\n  render() {\n    return (\n      <div style={{ flex: '1' }}>\n        <Navbar />\n        <div className={`card ${css(styles.card)}`}>\n          <h3 style={{ marginBottom: '2rem', textAlign: 'center' }}>Encode URL</h3>\n          <EncodeUrlForm onSubmit={this.handleEncodeURLSubmit} errors={this.props.encodeUrlErrors} />\n        </div>\n        <div className={`card ${css(styles.card)}`}>\n          <h3 style={{ marginBottom: '2rem', textAlign: 'center' }}>Decode URL</h3>\n          <DecodeUrlForm onSubmit={this.handleDecodeURLSubmit} errors={this.props.decodeUrlErrors} />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default connect(\n  state => ({\n    urls: state.urls.all,\n    encodeUrlErrors: state.urls.encodeUrlErrors,\n    decodeUrlErrors: state.urls.decodeUrlErrors,\n  }),\n  { encodeUrl, decodeUrl }\n)(Home);\n","import api from '../api';\n\nexport function encodeUrl(data) {\n  return dispatch => api.post('/url/encode', data)\n    .then((response) => {\n      dispatch({ type: 'ENCODE_URL_SUCCESS', response });\n      alert(response.data[0].shortened_url);\n    })\n    .catch((error) => {\n      dispatch({ type: 'ENCODE_URL_FAILURE', error });\n    });\n}\n\nexport function decodeUrl(data) {\n  return dispatch => api.post('/url/decode', data)\n    .then((response) => {\n      dispatch({ type: 'DECODE_URL_SUCCESS', response });\n      alert(response.data[0].original_url);\n    })\n    .catch((error) => {\n      dispatch({ type: 'DECODE_URL_FAILURE', error });\n    });\n}\n","// @flow\nimport React from 'react';\nimport { BrowserRouter as Link } from \"react-router-dom\";\n\n\nconst NotFound = () =>\n  <div style={{ margin: '2rem auto', textAlign: 'center' }}>\n    <p>Page not found</p>\n    <p><Link to=\"/\">Go to the home page →</Link></p>\n  </div>;\n\nexport default NotFound;\n","// @flow\nimport React, { Component } from 'react';\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\nimport Home from '../Home';\nimport NotFound from '../../components/NotFound';\n\nclass App extends Component {\n  render() {\n    return (\n      <Router>\n        <div>\n          <Route exactly pattern=\"/\" component={Home} />\n          <Switch component={NotFound} />\n        </div>\n      </Router>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport store from './store';\nimport App from './containers/App';\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>\n  , document.getElementById('root')\n);\n"],"sourceRoot":""}