(window.webpackJsonpshortener_url=window.webpackJsonpshortener_url||[]).push([[0],{209:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),o=r(46),c=r.n(o),l=r(21),i=r(7),u=r(96),s=r(212),m=r(16),d={all:[],encodeUrlErrors:[],decodeUrlErrors:[]},p=Object(i.c)({form:s.a,urls:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ENCODE_URL_SUCCESS":return Object(m.a)(Object(m.a)({},e),{},{all:t.response.data,encodeUrlErrors:[]});case"DECODE_URL_SUCCESS":return Object(m.a)(Object(m.a)({},e),{},{all:t.response.data,decodeUrlErrors:[]});case"ENCODE_URL_FAILURE":return Object(m.a)(Object(m.a)({},e),{},{encodeUrlErrors:t.error.errors});case"DECODE_URL_FAILURE":return Object(m.a)(Object(m.a)({},e),{},{decodeUrlErrors:t.error.errors});default:return e}}}),E=[u.a],b=i.a.apply(void 0,E)(i.d)((function(e,t){return p(e,t)})),f=r(19),h=r(20),v=r(23),g=r(22),O=r(31),U=r(6),j=r(2),y=r.n(j),S=r(25);function _(){var e=JSON.parse(localStorage.getItem("token"));return{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer: ".concat(e)}}function N(e){return e.json().then((function(t){return e.ok?t:Promise.reject(t)}))}var R=function(e,t){var r=JSON.stringify(t);return fetch("".concat("https://url-shortener-forever.herokuapp.com/api/v1").concat(e),{method:"POST",headers:_(),body:r}).then(N)};var x=r(211),C=r(210);var D=function(e){var t=e.errors;e.name;return a.a.createElement("div",null,function(e,t){return console.log(e),!!e&&e.map((function(e,t){return a.a.createElement("div",{key:t,style:{fontSize:"85%",color:"#cc5454"}},"".concat(e))}))}(t))},L=function(e){Object(v.a)(r,e);var t=Object(g.a)(r);function r(){var e;Object(f.a)(this,r);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).handleSubmit=function(t){return e.props.onSubmit(t)},e}return Object(h.a)(r,[{key:"render",value:function(){var e=this.props,t=e.handleSubmit,r=e.submitting,n=e.errors;return a.a.createElement("form",{onSubmit:t(this.handleSubmit),className:"form-inline"},a.a.createElement("div",{className:"row"},a.a.createElement("div",{className:"form-group col-sm-12"},a.a.createElement("div",{className:"input-group"},a.a.createElement(x.a,{name:"original_url",placeholder:"What's URL for encoding?",component:"textarea",className:"form-control",style:{width:"100%"}}),a.a.createElement("div",{className:"input-group-btn"},a.a.createElement("button",{type:"submit",className:"btn btn-primary",disabled:r},r?"Encoding...":"Encode"))),a.a.createElement(D,{name:"original_url",errors:n}))))}}]),r}(n.Component),w=Object(C.a)({form:"encodeUrl",validate:function(e){var t={};return e.message||(t.message="Required"),t}})(L),k=function(e){Object(v.a)(r,e);var t=Object(g.a)(r);function r(){var e;Object(f.a)(this,r);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).handleSubmit=function(t){return e.props.onSubmit(t)},e}return Object(h.a)(r,[{key:"render",value:function(){var e=this.props,t=e.handleSubmit,r=e.submitting,n=e.errors;return a.a.createElement("form",{onSubmit:t(this.handleSubmit),className:"form-inline"},a.a.createElement("div",{className:"row"},a.a.createElement("div",{className:"form-group col-sm-12"},a.a.createElement("div",{className:"input-group"},a.a.createElement(x.a,{name:"shortened_url",placeholder:"What's URL for decoding?",component:"textarea",className:"form-control",style:{width:"100%"}}),a.a.createElement("div",{className:"input-group-btn"},a.a.createElement("button",{type:"submit",className:"btn btn-primary",disabled:r},r?"Decoding...":"Decode"))),a.a.createElement(D,{name:"shortened_url",errors:n}))))}}]),r}(n.Component),A=Object(C.a)({form:"decodeUrl",validate:function(e){var t={};return e.shortened_url||(t.message="Required"),t}})(k),I=S.a.create({navbar:{display:"flex",alignItems:"center",padding:"0 1rem",height:"70px",background:"#fff",boxShadow:"0 1px 1px rgba(0,0,0,.1)"},link:{color:"#555459",fontSize:"22px",fontWeight:"bold",":hover":{textDecoration:"none"},":focus":{textDecoration:"none"}}}),F=function(){return a.a.createElement("nav",{className:Object(S.b)(I.navbar)},a.a.createElement(O.a,{to:"/",className:Object(S.b)(I.link)},"Url Shortener Forever"))},B=S.a.create({card:{maxWidth:"768px",margin:"2rem auto"}}),J=function(e){Object(v.a)(r,e);var t=Object(g.a)(r);function r(){var e;Object(f.a)(this,r);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).handleEncodeURLSubmit=function(t){return e.props.encodeUrl(t,e.context.router)},e.handleDecodeURLSubmit=function(t){return e.props.decodeUrl(t,e.context.router)},e}return Object(h.a)(r,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return a.a.createElement("div",{style:{flex:"1"}},a.a.createElement(F,null),a.a.createElement("div",{className:"card ".concat(Object(S.b)(B.card))},a.a.createElement("h3",{style:{marginBottom:"2rem",textAlign:"center"}},"Encode URL"),a.a.createElement(w,{onSubmit:this.handleEncodeURLSubmit,errors:this.props.encodeUrlErrors})),a.a.createElement("div",{className:"card ".concat(Object(S.b)(B.card))},a.a.createElement("h3",{style:{marginBottom:"2rem",textAlign:"center"}},"Decode URL"),a.a.createElement(A,{onSubmit:this.handleDecodeURLSubmit,errors:this.props.decodeUrlErrors})))}}]),r}(n.Component);J.contextTypes={router:y.a.object};var W=Object(l.b)((function(e){return{urls:e.urls.all,encodeUrlErrors:e.urls.encodeUrlErrors,decodeUrlErrors:e.urls.decodeUrlErrors}}),{encodeUrl:function(e){return function(t){return R("/url/encode",e).then((function(e){t({type:"ENCODE_URL_SUCCESS",response:e}),alert(e.data[0].shortened_url)})).catch((function(e){t({type:"ENCODE_URL_FAILURE",error:e})}))}},decodeUrl:function(e){return function(t){return R("/url/decode",e).then((function(e){t({type:"DECODE_URL_SUCCESS",response:e}),alert(e.data[0].original_url)})).catch((function(e){t({type:"DECODE_URL_FAILURE",error:e})}))}}})(J),z=function(){return a.a.createElement("div",{style:{margin:"2rem auto",textAlign:"center"}},a.a.createElement("p",null,"Page not found"),a.a.createElement("p",null,a.a.createElement(O.a,{to:"/"},"Go to the home page \u2192")))},P=function(e){Object(v.a)(r,e);var t=Object(g.a)(r);function r(){return Object(f.a)(this,r),t.apply(this,arguments)}return Object(h.a)(r,[{key:"render",value:function(){return a.a.createElement(O.a,null,a.a.createElement("div",null,a.a.createElement(U.a,{exactly:!0,pattern:"/",component:W}),a.a.createElement(U.c,{component:z})))}}]),r}(n.Component);c.a.render(a.a.createElement(l.a,{store:b},a.a.createElement(P,null)),document.getElementById("root"))},97:function(e,t,r){e.exports=r(209)}},[[97,1,2]]]);
//# sourceMappingURL=main.a68ca866.chunk.js.map